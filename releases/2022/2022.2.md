---
title: 2022.2
parent: Releases
---

<div align="center">
  <h1>Kytos-ng 2022.2 - kiko</h1>
</div>

<div align="center">
  <a href="https://www.amlight.net"><img src="https://amlight.net/wp-content/uploads/2016/02/AmLlightExP_s.jpg"></a>
</div>

Kytos-ng[^1] version `2022.2`, kiko, was released in August.

## Objectives

This version had these major objectives:

- Integrate a production-grade recommended document-oriented database for Napps.
- Optimize `mef_eline` EVCs convergence to take place in a few seconds on average.
- Enhance Kytos core to support event message prioritization and have higher performance when handling events in general.
- Have a better infrastructure tools for application performance monitoring (APM) and logging.
- New major features such as link liveness detection, interface loop detection, and new Web UI components.
- Increase unit test coverage to at least 85% on `coloring`, `sdntrace`, and `sdntrace_cp`.
- Enhance the existing loggers to use an asynchronous implementation to minimize latency.

In order to achieve the objectives of this version, the following enhancements were refined and delivered:

### 1. MongoDB core infrastructure and NApps integration

MongoDB has been chosen as a default recommended document-oriented database based on the [EP026 blueprint](https://github.com/kytos-ng/kytos/blob/master/docs/blueprints/EP026.rst) requirements for NApps that need this type of storage. Kytos core has been integrated with `pymongo` driver library exposing a database client for NApps. On this [page](https://github.com/kytos-ng/kytos#how-to-use-with-mongodb) there is more information on how to use MongoDB with kytos and on this documentation [page](https://kytos-ng.github.io/napps/mongodb.html) there are more technical information about the integration architecture. 

`flow_manager`, `mef_eline`, and `topology` have migrated from `storehouse` to MongoDB for higher performance, production and maintainability reasons. Also, since this new database infrastructure is officially supported, `storehouse` has been deprecated. If you were using any of these NApps in your network infrastructure, a migration script is also available in the `scripts/` folder of each NApp repository, just so the stored data can be migrated gracefully and you can leverage the new enhanced implementation and supported infrastructure.

### 2. `mef_eline` EVCs convergence optimizations and QinQ enhancements

TODO: Ask Italo to add and summarize the EVCs convergence gains.

TODO: Ask Antonio to add/highlight more information about QinQ enhancement, and or if it is worth mentioning any potential unsupported case that network operators should be aware of.

### 3. Kytos core queues improvements and event message prioritization

Kytos core queues `msg_in` and `msg_out` have been improved to support event message prioritization to avoid control plane message starvation from the controller's perspective. All NApps that deal with low level OpenFlow messages and put message in the `msg_out` are responsible to set the message priority accordingly, a [new module](https://github.com/kytos-ng/of_core/blob/master/msg_prios.py) is available on `of_core` to standardize which priority value is supposed to be set.

In addition, kytos core now provides `asyncio` integration for event listeners with a new `alisten_to` decorator, so NApps can benefit from more lightweight handlers. Also, this open doors for future integration with `asyncio` libraries and its ecosystem when applicable.

### 4. APM and logging infrastructure core integration

Kytos core has been integrated with [Elasticsearch APM Python client](https://github.com/kytos-ng/kytos/blob/master/docs/blueprints/EP027.rst) to have performance and monitoring metrics. This [page](https://github.com/kytos-ng/kytos#how-to-use-with-elastic-apm) documents how to use and enable the APM client with Kytos. Elasticsearch, Filebeat and Kibana can also be used in order to have a robust indexed and searchable logs infrastructure, there are more information about how to use this architecture on [EP028 blueprint](https://github.com/kytos-ng/kytos/blob/master/docs/blueprints/EP028.rst).

### 5. Link liveness detection

TODO continue here

`of_lldp` has been extended to be able to provide link liveness detection, leveraging the existing LLDP messages, in order to detect link transport outage that might not necessarily trigger a port down event. Link liveness detection can be enabled per interface and it needs to be enabled on each pair in order to work. This implementation is meant to provide a generic alternative to BFD (Bidirectional Forwarding Detection - RFC 5880) where the protocol states is being tracked by the control plane. For more information, check out [EP030](https://github.com/kytos-ng/kytos/blob/master/docs/blueprints/EP030.rst).

### 6. Interface loop detection

`of_lldp` has also been augmented to detect if an interface of a switch is looped. Interface loop detection is automatically enabled once LLDP since it is been designed to detect unexpected or accidental loops that can happen. This feature has configuration options to configure configure which action should be applied once a loop is detected, by default, it generates a log warning message, but it can also disable an interface. Also, loops can be configured to be ignored. There are more information about this feature [on EP025](https://github.com/kytos-ng/kytos/blob/master/docs/blueprints/EP027.rst>).

### 7. New Web UI components

#### `topology`

TODO A

#### `maintenance`

TODO B

### 6. Increase unit test coverage to 85% on `coloring`, `sdntrace` and `sdntrace_cp`

`coloring`, `sdntrace`, and `sdntrace_cp` now have at least 85% of unit test coverage, enhancing code quality and future code maintenance.

### AmLight NApps on kytos-ng organization

[`coloring`](https://github.com/kytos-ng/coloring),[`sdntrace`](https://github.com/kytos-ng/sdntrace), [`sdntrace_cp`](https://github.com/kytos-ng/sdntrace_cp), and [`flow_stats`](https://github.com/kytos-ng/flow_stats) code repositories have been moved from the [amlight](https://github.com/kytos-ng) organization to the [kytos-ng](https://github.com/kytos-ng) organization, this is to unify the NApps that are being maintained by the Kytos-ng core team. GitHub still maintain compatibility with the previous upstream urls, but the new ones.

## Kytos-ng and NApps released

The following Kytos-ng projects and NApps were released in this version, for further detailed information about what was released and what changed please visit the release page of each project that you are interested in knowing more and look for the changelog file.


Project                                                        | Release Web Page
-------------------------------------------------------------- |------------------------------------------------------------------------
[kytos](https://github.com/kytos-ng/kytos)                     | [kytos](https://github.com/kytos-ng/kytos/releases)
[python-openflow](https://github.com/kytos-ng/python-openflow) | [python-openflow](https://github.com/kytos-ng/python-openflow/releases)
[kytos-utils](https://github.com/kytos-ng/kytos-utils)         | [kytos-utils](https://github.com/kytos-ng/python-openflow/releases)
[ui](https://github.com/kytos-ng/ui)                           | [ui](https://github.com/kytos-ng/ui/releases)
[kytos/of_core](https://github.com/kytos-ng/of_core)           | [kytos/of_core](https://github.com/kytos-ng/of_core/releases)
[kytos/flow_manager](https://github.com/kytos-ng/flow_manager) | [kytos/flow_manager](https://github.com/kytos-ng/flow_manager/releases)
[kytos/topology](https://github.com/kytos-ng/topology)         | [kytos/topology](https://github.com/kytos-ng/topology/releases)
[kytos/of_lldp](https://github.com/kytos-ng/of_lldp)           | [kytos/of_lldp](https://github.com/kytos-ng/of_lldp/releases)
[kytos/mef_eline](https://github.com/kytos-ng/mef_eline)       | [kytos/mef_eline](https://github.com/kytos-ng/mef_eline/releases)
[kytos/maintenance](https://github.com/kytos-ng/maintenance)   | [kytos-ng/maintenance](https://github.com/kytos-ng/maintenance/releases)
[amlight/coloring](https://github.com/kytos-ng/coloring)       | [amlight/coloring](https://github.com/kytos-ng/coloring/releases)
[amlight/sdntrace](https://github.com/kytos-ng/sdntrace)       | [amlight/sdntrace](https://github.com/kytos-ng/sdntrace/releases)
[amlight/flow_stats](https://github.com/kytos-ng/flow_stats)   | [amlight/flow_stats](https://github.com/kytos-ng/flow_stats/releases)
[amlight/sdntrace_cp](https://github.com/kytos-ng/sdntrace_cp) | [amlight/sdntrace_cp](https://github.com/kytos-ng/sdntrace_cp/releases)


### NApps deprecated

- [kytos/storehouse](https://github.com/kytos-ng/storehouse)

## GitHub statistics

In the [kytos-ng](https://github.com/kytos-ng) organization, during the period of this release from February 2022 to August 2022:

- [168 pull requests were merged](https://github.com/search?q=org%3Akytos-ng+is%3Apr+is%3Aclosed+merged%3A2022-02-11..2022-08-31&type=Issues)
- [72 issues were closed](https://github.com/search?q=org%3Akytos-ng+is%3Aissue+label%3A2022.2+is%3Aclosed&type=Issues)


## Kytos-ng Team

- **Team Manager:** Jeronimo.
- **Core Team:** Antonio, Rogerio, Vinicius, Italo, David.
- **Contributors (2022.2):** Aldo, Aris, Rohan, Muhammad, Krishna, Gretel.

Special Thanks to the Kytos community, and [FIU](https://www.fiu.edu/) VIP[^2] Students. 

[^1]: [Kytos-ng](https://github.com/kytos-ng) is supported by the [National Science Foundation (NSF)](https://www.nsf.gov/) AmLight Express and Protect (AmLIght-ExP) (Award # [OAC-2029283](https://nsf.gov/awardsearch/showAward?AWD_ID=2029283&HistoricalAwards=false)) project members [Florida International University](https://www.fiu.edu/) (FIU) and [rednesp](https://www.rednesp.br/) (Research and Education Network at Sao Paulo/Brazil)
[^2]: The Vertically-Integrated Projects (VIP) program aims to involve students on campus in innovation. VIP unites undergraduate education and faculty research in a team-based context.
